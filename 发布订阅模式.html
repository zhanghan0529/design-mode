<script>
    //发布订阅模式
    var EventCenter = (function () {
        let events = {};
        function on(evt, handler) {
            events[evt] = events[evt] || [];
            events[evt].push({
                handler: handler
            })
        }
        function fire(evt, args) {
            if (!events[evt]) {
                return;
            }
            for(let i = 0;i<events[evt].length;i++){
                events[evt][i].handler(args);
            }
        }
        function off(evt){
            delete events[evt];
        }
        return{
            on:on,
            fire:fire,
            off:off
        }
    })()
    EventCenter.on('change', function (val) {
        console.log('change...  now val is ' + val);
    });
    EventCenter.fire('change', '饥人谷');
    EventCenter.off('change')

</script>